<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>ðŸ¦œ Polyglot - Piratical PyScript</title>
      <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
      <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
  </head>
  <body>

    <textarea id="code" cols="40" rows="10" placeholder="Enter your Python code here"></textarea>
    <button onclick="runPythonCode()">Run</button>
    <div id="output"></div>

    <script type="text/python">
      // Your Python code goes here
      print("Hello, PyScript!")
    </script>

    <script>
      function runPythonCode() {
        var code = document.getElementById("code").value;
        var output = document.getElementById("output");
        
        // Clear previous output
        output.innerHTML = "";
        
        // Execute the Python code
        var myPromise = Sk.misceval.asyncToPromise(function() {
          return Sk.importMainWithBody("<stdin>", false, code, true);
        });
        
        myPromise.then(function(mod) {
          console.log("Python code executed successfully");
        }, function(err) {
          output.innerHTML = err.toString();
        });
      }
    </script>

  </body>
</html>
